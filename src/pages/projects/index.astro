---
import Layout from "../../layouts/Layout.astro";
import { Card } from "../../components/Card.tsx";

type Frontmatter = {
  title: string;
  description: string;
  slug: string;
};

async function getProjectFiles() {
  const projects = await Astro.glob<Frontmatter>("../../projects/**/*.mdx");

  return projects;
}

const projects = await getProjectFiles();
---

<Layout title="projects">
  <h1 class="text-4xl">projects</h1>
  <p>welcome to my projects</p>
  <Card type="info">most of these requires you to have javascript enabled</Card>
  <ul>
    {
      projects.map((project) => {
        return (
          <li class="underline font-bold">
            <a
              href={`/projects/${project.frontmatter.slug}`}
              transition:name={`${project.frontmatter.title}-title`}
            >
              {project.frontmatter.title}
            </a>
          </li>
        );
      })
    }
  </ul>
</Layout>
